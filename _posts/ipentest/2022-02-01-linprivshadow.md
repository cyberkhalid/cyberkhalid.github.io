---
title: Readable /etc/shadow 
date: 2022-06-03 05:49:33 +0800
categories: [Infrastructure Pentesting, Linux Privilege Escalations]
tags: []  
---

# Readable /etc/shadow 

The /etc/shadow file contains user password hashes and is usually readable only by the root user.

# Enumeration

We are going to exploit a misconfigured `/etc/shadow` file to escalate our privileges to `root`. Let's check the permission on `/etc/shadow`.

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivshadow1.png)

As you can see, we have `Read` permission on `/etc/shadow` file.

# Exploitation

We will extract the hash of a root user and crack it using `johntheripper`. After that, we will use the cracked password to login to root account.

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivshadow2.png)

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivshadow3.png)

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivshadow4.png)

Well...As you can see, we have logged in as `root` user.
 
