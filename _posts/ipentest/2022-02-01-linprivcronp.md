---
title:  Cron Jobs - File Permissions 
date: 2022-06-03 05:49:33 +0800
categories: [Infrastructure Pentesting, Linux Privilege Escalations]
tags: []  
---

#  Cron Jobs - File Permissions

# Enumeration

We are going to exploit a misconfigured script to escalate our privileges to `root`. Let's check the content of a crontab `/etc/crontab`

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivcronp1.png)

We will locate the full path of `overwrite.sh` script and examine it permissions.

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivcronp2.png)

Well...we have `write` permission on it, which means we can be able to write our own payload in it so that to be executed automatically by a cronjob.
This will allow us to obtain `root` shell because the script is set to run with root privilege.

# Exploitation

Let's open the script `overwrite.sh` and add our own  reverse shell payload.

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivcronp3.png)

Now we will save it and setup our reverse shell listener.

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivcronp4.png)

Well...As you can see, we have obtained a shell with  `root` privilege.
 
