---
title: Writable /etc/shadow 
date: 2022-06-03 05:49:33 +0800
categories: [Infrastructure Pentesting, Linux Privilege Escalations]
tags: []  
---

# Writable /etc/shadow 

The /etc/shadow file contains user password hashes and is usually readable only by the root user.

# Enumeration

We are going to exploit a misconfigured `/etc/shadow` file to escalate our privileges to `root`. Let's check the permission on `/etc/shadow`.

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivshadow1.png)

As you can see, we have `Write` permission on `/etc/shadow` file.

# Exploitation

We will generate a new password and edit the /etc/shadow file by placing the root hash with the one we have generated. After that, we will use the password to login to root account.

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivshadoww1.png)

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivshadoww2.png)

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/linprivshadow4.png)

Well...As you can see, we have logged in as `root` user.
 
