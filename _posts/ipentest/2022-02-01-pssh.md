---
title: SSH Authorized_keys
date: 2022-06-03 05:49:33 +0800
categories: [Infrastructure Pentesting, Linux Persistence]
tags: []  
---

# SSH Authorized_keys 

The ssh backdoor essentially consists of leaving our ssh keys in some user’s home directory. Usually the user would be root as it’s the user with the highest privileges.


# Exploitation

We are going to leverage ssh protocol to achieve persistence. We will generate a set of ssh keys with ssh-keygen.

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/pssh1.png)

Now that we have 2 keys. 1 private key and 1 public key, we can now go to /root/.ssh, rename  our public key to authorized_keys and then leave it there. 

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/pssh2)

After that, we will copy our private key to our machine and use it to login to root account whenever we want.

![linpriv](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/pssh3)
 
