---
title: Sql Injection -> Authentication Bypass
date: 2022-01-01 05:49:33 +0800
categories: [WebApp And Api Pentesting, Sql Injection -> Authentication Bypass]
tags: [webapp, pentesting, Owasp, sql, sqli, auth,injection]     # TAG names should always be lowercase
---

# Sql Injection -> Authentication Bypass

# Exploitation

![sqli](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/sqlil1.png)

It takes username and password, queries username and password in it database and then gives access to a user if the username and password exists.

Let's supply wrong credentials first.

![sqli](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/sqlil2.png)
 
 We got this because our credentials were incorrect.
 
We can predict the query being executed on the backend as something like this:- 
 
`SELECT * from [table_name] where username='[input]' and password='[input]'`.

By supplying `1' or 1=1;-- -`, we will have the backend execute something like `SELECT * from [table_name] where username='1' or 1=1;-- -' and password='[input]'`. Will not execute whatever comes after `--` because sql engine ignores anything after `--`, so only `SELECT * from [table_name] where username='1' or 1=1;` will be executed which will return true, thereby giving us access to the account that first matches the query.

![sqli](https://raw.githubusercontent.com/cyberkhalid/cyberkhalid.github.io/main/assets/img/ipentest/sqlil3.png)
